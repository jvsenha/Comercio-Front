
<div class="crud-layout">

  <div class="card">
    <div class="header">
      <button class="btn-voltar" (click)="voltar()" title="Voltar">â†</button>
      <h2>
        <span *ngIf="!isEditMode">Cadastrar UF</span>
        <span *ngIf="isEditMode">Alterar UF (ID: {{ formModel.id }})</span>
      </h2>
      <div></div>
    </div>

    <div class="sucesso" *ngIf="mensagem">âœ“ {{ mensagem }}</div>
    <div class="erro" *ngIf="erro">âœ— {{ erro }}</div>

    <div class="form">
      <div class="campo">
        <label>Nome *</label>
        <input
        type="text"
        [(ngModel)]="formModel.name"
        placeholder="Ex: SÃ£o Paulo"
        [class.input-erro]="erro && formModel.name.trim() === ''"
        />
      </div>

      <div class="campo">
        <label>Sigla *</label>
        <input
        type="text"
        [(ngModel)]="formModel.siglaUf"
        placeholder="Ex: SP"
        maxlength="2"
        [class.input-erro]="erro && formModel.siglaUf.trim() === ''"
        />
      </div>

      <div class="botoes">
        <button *ngIf="isEditMode" class="btn-cancelar" (click)="resetarFormulario()">Cancelar EdiÃ§Ã£o</button>
        <button class="btn-salvar" (click)="salvar()" [disabled]="salvando">
          <span *ngIf="!salvando && !isEditMode">Salvar Novo</span>
          <span *ngIf="!salvando && isEditMode">Atualizar</span>
          <span *ngIf="salvando">Salvando...</span>
        </button>
      </div>
    </div>
  </div>

  <div class="card list-card">
  <h3>UFs Registradas</h3>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Nome</th>
          <th>Sigla</th>
          <th>AÃ§Ãµes</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="isLoading">
          <td colspan="4" class="text-center">Carregando...</td>
        </tr>
        <tr *ngIf="!isLoading && listaDeUfs.length === 0">
          <td colspan="4" class="text-center">Nenhum item registrado.</td>
        </tr>
        <tr *ngFor="let item of listaDeUfs">
          <td>{{ item.id }}</td>
          <td>{{ item.name }}</td>
          <td>{{ item.siglaUf }}</td>
          <td class="actions">
            <button class="btn-icon btn-editar" (click)="iniciarEdicao(item)" title="Alterar">âœï¸</button>
            <button class="btn-icon btn-deletar" (click)="deletar(item.id)" title="Deletar">ğŸ—‘ï¸</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

</div>
