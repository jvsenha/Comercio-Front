
<div class="crud-layout">
<div class="card">
  <div class="header">
    <button class="btn-voltar" (click)="voltar()" title="Voltar">â†</button>
    <h2>
      <span *ngIf="!isEditMode">Cadastrar CEP</span>
      <span *ngIf="isEditMode">Alterar CEP (ID: {{ formModel.id }})</span>
    </h2>
    <div></div>
  </div>

  <div class="sucesso" *ngIf="mensagem">âœ“ {{ mensagem }}</div>
  <div class="erro" *ngIf="erro">âœ— {{ erro }}</div>

  <div class="form">
    <div class="campo">
      <label>NÃºmero CEP *</label>
      <input
        type="text"
        [(ngModel)]="formModel.numeroCep"
        placeholder="Digite o CEP"
        mask="00000-000"
        maxlength="9"
      />
    </div>

    <div class="botoes">
      <button *ngIf="isEditMode" class="btn-cancelar" (click)="resetarFormulario()">Cancelar EdiÃ§Ã£o</button>
      <button class="btn-salvar" (click)="salvar()" [disabled]="salvando">
        <span *ngIf="!salvando && !isEditMode">Salvar Novo</span>
        <span *ngIf="!salvando && isEditMode">Atualizar</span>
        <span *ngIf="salvando">Salvando...</span>
      </button>
    </div>
  </div>
</div>

<div class="card list-card">
  <h3>CEPs Registrados</h3>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>NÃºmero CEP</th>
          <th>AÃ§Ãµes</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngIf="isLoading">
          <td colspan="3" class="text-center">Carregando...</td>
        </tr>
        <tr *ngIf="!isLoading && listaDeCeps.length === 0">
          <td colspan="3" class="text-center">Nenhum item registrado.</td>
        </tr>
        <tr *ngFor="let item of listaDeCeps">
          <td>{{ item.id }}</td>
          <td>{{ item.numeroCep }}</td>
          <td class="actions">
            <button class="btn-icon btn-editar" (click)="iniciarEdicao(item)" title="Alterar">âœï¸</button>
            <button class="btn-icon btn-deletar" (click)="deletar(item.id)" title="Deletar">ğŸ—‘ï¸</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
</div>
